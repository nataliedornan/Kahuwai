---
title: "Curve_number adjustments"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse) #loading in the packages
```




```{r}

ind_cn_all<- read_csv("subcatch_2_12_cn.csv") %>% #reading in the data for curve numbers
  filter (curve_numbers_csv_CN != "NA") 

all_cn_weighted<- ind_cn_all %>% 
  group_by(OBJECTID_1) %>% #grouping by subcatchment and then doing a weighted mean
  summarize(mean_cn= weighted.mean(curve_numbers_csv_CN, PERCENTAGE))

slopes_ind<- read_csv("subcatch_2_12_slope.csv")

slope_weighted<- slopes_ind %>% 
  group_by(OBJECTID_1) %>% #grouping by subcatchment and then doing a weighted mean
  summarize(mean_slope=weighted.mean(Slope, PERCENTAGE))

write.csv(all_cn_weighted, "G:\\Data\\Map\\Original_data\\Soil\\Curve_numbers\\subcatch_2_12_cn_weighted.csv")
  
write.csv(slope_weighted, "G:\\Data\\Map\\Original_data\\Soil\\Curve_numbers\\subcatch_2_12_slope_weighted.csv")


```

